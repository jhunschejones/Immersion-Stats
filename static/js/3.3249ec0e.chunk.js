"use strict";(self.webpackChunkimmersion_stats=self.webpackChunkimmersion_stats||[]).push([[3],{3:function(e,n,t){t.r(n),t.d(n,{default:function(){return f}});var i=t(9439),r=t(2791),s=t(1933),a=t(1355),c=t(7649),u=t(6291),o=function(e,n){return e.reduce((function(e,n){return e&&e[n]?e[n]:null}),n)},l=t(184);function f(){var e=(0,s.useQuery)({queryKey:["immersion"],queryFn:u.zP}),n=e.data,t=e.isLoading,f=(0,a.Z)(t,n),m=(0,r.useMemo)((function(){return f.sort((function(e,n){return new Date(n.Date)-new Date(e.Date)}))}),[f]),d=(0,r.useMemo)((function(){return o(["Date"],m[m.length-1])}),[m]),h=(0,r.useMemo)((function(){return o(["Date"],m[0])}),[m]),p=(0,r.useMemo)((function(){var e=Array.from(new Set(m.map((function(e){return e.Activity})))),n={};return e.forEach((function(e){var t=m.filter((function(n){return n.Activity===e})).map((function(e){return parseInt(e["Time (mins)"])})).filter((function(e){return!isNaN(e)})).reduce((function(e,n){return e+n}),0);n[e]=t})),n}),[m]);return t?(0,l.jsx)("p",{className:"loading-messsage",children:"Fetching csv file..."}):0===Object.keys(p).length?(0,l.jsx)("p",{className:"loading-messsage",children:"Processing data..."}):(0,l.jsxs)("div",{className:"ActivityTotals",children:[(0,l.jsx)("h1",{style:{margin:"4px 0 2px 0",padding:"0",fontSize:"28px",fontWeight:"600"},children:"Immersion Activities"}),(0,l.jsxs)("p",{style:{margin:"0",fontWeight:"200",fontSize:"14px"},children:[d," - ",h]}),(0,l.jsx)("ul",{className:"activity-list",children:Object.entries(p).sort((function(e,n){return n[1]-e[1]})).map((function(e,n){var t=(0,i.Z)(e,2),r=t[0],s=t[1];return(0,l.jsxs)("li",{className:"activity",children:[(0,l.jsx)("span",{className:"activity-name",children:r}),(0,l.jsx)("span",{className:"activity-time",children:(0,c.f)(s)})]},n)}))})]})}}}]);
//# sourceMappingURL=3.3249ec0e.chunk.js.map