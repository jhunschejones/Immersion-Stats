"use strict";(self.webpackChunkimmersion_stats=self.webpackChunkimmersion_stats||[]).push([[3],{3:(e,s,t)=>{t.r(s),t.d(s,{default:()=>o});var i=t(2791),a=t(1933),n=t(1355),r=t(7649),c=t(9601);const l=(e,s)=>e.reduce(((e,s)=>e&&e[s]?e[s]:null),s);var m=t(184);function o(){const{data:e,isLoading:s}=(0,a.useQuery)({queryKey:["immersion"],queryFn:c.zP}),t=(0,n.Z)(s,e),o=(0,i.useMemo)((()=>t.sort(((e,s)=>new Date(s.Date)-new Date(e.Date)))),[t]),d=(0,i.useMemo)((()=>l(["Date"],o[o.length-1])),[o]),u=(0,i.useMemo)((()=>l(["Date"],o[0])),[o]),h=(0,i.useMemo)((()=>{const e=Array.from(new Set(o.map((e=>e.Activity)))),s={};return e.forEach((e=>{const t=o.filter((s=>s.Activity===e)).map((e=>parseInt(e["Time (mins)"]))).filter((e=>!isNaN(e))).reduce(((e,s)=>e+s),0);s[e]=t})),s}),[o]);return s?(0,m.jsx)("p",{className:"loading-messsage",children:"Fetching csv file..."}):0===Object.keys(h).length?(0,m.jsx)("p",{className:"loading-messsage",children:"Processing data..."}):(0,m.jsxs)("div",{className:"ActivityTotals",children:[(0,m.jsx)("h1",{style:{margin:"4px 0 2px 0",padding:"0",fontSize:"28px",fontWeight:"600"},children:"Immersion Activities"}),(0,m.jsxs)("p",{style:{margin:"0",fontWeight:"200",fontSize:"14px"},children:[d," - ",u]}),(0,m.jsx)("ul",{className:"activity-list",children:Object.entries(h).sort(((e,s)=>s[1]-e[1])).map(((e,s)=>{let[t,i]=e;return(0,m.jsxs)("li",{className:"activity",children:[(0,m.jsx)("span",{className:"activity-name",children:t}),(0,m.jsx)("span",{className:"activity-time",children:(0,r.f)(i)})]},s)}))})]})}}}]);
//# sourceMappingURL=3.cdcb6d14.chunk.js.map